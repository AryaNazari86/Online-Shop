{% extends "base.html" %}
{% block load_files %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
{% load static %}
<link href="{% static 'home.css' %}" rel="stylesheet">
{% endblock %}
{% block content %}
<div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
<div class="carousel-indicators">
  <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-label="Slide 1" aria-current="true"></button>
  <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2" class=""></button>
  <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3" class=""></button>
</div>
<div class="carousel-inner">

    {% for product in recent_products %}
        {% if recent_products.1 == product %}
    <div class="carousel-item active">
        {% else %}
      <div class="carousel-item">
          {% endif %}
      {% if product.image %}
    <img class="bd-placeholder-img" width="100%" height="600" src="{{ product.image.url}}" aria-hidden="true" ><rect width="100%" height="100%" fill="#777"></rect>
      {% else %}
    <img class="bd-placeholder-img" width="100%" height="600" src="/media/images/default_product.png" aria-hidden="true" ><rect width="100%" height="100%" fill="#777"></rect>
      {% endif %}
    <div class="container">
      <div class="carousel-caption">
        <p>{{product.description}}</p>
          <p>{{product.author}}</p>
        <p><a class="btn btn-lg btn-primary" href="{{product.get_absolute_url}}">Buy!</a></p>
      </div>
    </div>
  </div>

    {% endfor %}

</div>
<button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Previous</span>
</button>
<button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
  <span class="carousel-control-next-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Next</span>
</button>
</div>
    </div>
{% endblock %}